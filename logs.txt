2024-08-19 22:38:30,648 | INFO | --------------------
2024-08-19 22:38:30,648 | INFO | Report Client v2 init...
2024-08-19 22:38:30,648 | INFO | read_config() called
2024-08-19 22:38:30,648 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'markers': [['.*бщий\\s{1}сменный', '.*конец\\s{1}отчета'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-19 22:38:30,883 | INFO | Will use received ip: 2.57.36.136
2024-08-19 22:39:45,154 | INFO | --------------------
2024-08-19 22:39:45,154 | INFO | Report Client v2 init...
2024-08-19 22:39:45,154 | INFO | read_config() called
2024-08-19 22:39:45,154 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'markers': [['.*бщий\\s{1}сменный', '.*конец\\s{1}отчета'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-19 22:39:45,364 | INFO | Will use received ip: 2.57.36.136
2024-08-19 22:41:05,461 | INFO | --------------------
2024-08-19 22:41:05,462 | INFO | Report Client v2 init...
2024-08-19 22:41:05,462 | INFO | read_config() called
2024-08-19 22:41:05,462 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'markers': [['.*бщий\\s{1}сменный', '.*конец\\s{1}отчета'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-19 22:41:05,673 | INFO | Will use received ip: 2.57.36.136
2024-08-19 22:41:38,521 | INFO | --------------------
2024-08-19 22:41:38,521 | INFO | Report Client v2 init...
2024-08-19 22:41:38,521 | INFO | read_config() called
2024-08-19 22:41:38,522 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'markers': [['.*бщий\\s{1}сменный', '.*конец\\s{1}отчета'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-19 22:41:38,732 | INFO | Will use received ip: 2.57.36.136
2024-08-19 22:42:01,027 | INFO | --------------------
2024-08-19 22:42:01,028 | INFO | Report Client v2 init...
2024-08-19 22:42:01,028 | INFO | read_config() called
2024-08-19 22:42:01,028 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'markers': [['.*бщий\\s{1}сменный', '.*конец\\s{1}отчета'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-19 22:42:01,255 | INFO | Will use received ip: 2.57.36.136
2024-08-19 22:42:13,052 | INFO | --------------------
2024-08-19 22:42:13,052 | INFO | Report Client v2 init...
2024-08-19 22:42:13,052 | INFO | read_config() called
2024-08-19 22:42:13,052 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'markers': [['.*бщий\\s{1}сменный', '.*конец\\s{1}отчета'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-19 22:42:13,274 | INFO | Will use received ip: 2.57.36.136
2024-08-19 22:42:13,274 | INFO | Report Client v2 started :)
2024-08-19 22:42:23,539 | INFO | --------------------
2024-08-19 22:42:23,539 | INFO | Report Client v2 init...
2024-08-19 22:42:23,539 | INFO | read_config() called
2024-08-19 22:42:23,540 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'markers': [['.*бщий\\s{1}сменный', '.*конец\\s{1}отчета'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-19 22:42:23,771 | INFO | Will use received ip: 2.57.36.136
2024-08-19 22:42:23,771 | INFO | Report Client v2 started :)
2024-08-19 22:43:43,522 | INFO | --------------------
2024-08-19 22:43:43,522 | INFO | Report Client v2 init...
2024-08-19 22:43:43,522 | INFO | read_config() called
2024-08-19 22:43:43,522 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'markers': [['.*бщий\\s{1}сменный', '.*конец\\s{1}отчета'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-19 22:43:43,730 | INFO | Will use received ip: 2.57.36.136
2024-08-19 22:43:43,730 | INFO | Report Client v2 started :)
2024-08-19 22:49:08,093 | INFO | --------------------
2024-08-19 22:49:08,093 | INFO | Report Client v2 init...
2024-08-19 22:49:08,093 | INFO | read_config() called
2024-08-19 22:49:08,094 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'markers': [['.*бщий\\s{1}сменный', '.*конец\\s{1}отчета'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-19 22:49:08,308 | INFO | Will use received ip: 2.57.36.136
2024-08-19 22:49:08,309 | INFO | Report Client v2 started :)
2024-08-19 22:49:08,311 | INFO | Report saved to tosend/rep6619782.txt
2024-08-19 22:49:08,311 | INFO | Will send following data to server:
1883 [сменный/другие]
 Блюдо 1 124

Блюдо 1 124

Блюдо 1 124

Блюдо 1 124

Блюдо 1 124
2024-08-19 22:49:08,478 | INFO | Trying to send tosend/rep6619782.txt to 2.57.36.136
2024-08-19 22:49:08,478 | INFO | ###############################
2024-08-19 22:49:08,478 | INFO | Sending...
2024-08-19 22:49:08,506 | INFO | Sent. Waiting for resp...
2024-08-19 22:49:08,635 | INFO | Resp:b'OK\r\n'
2024-08-19 22:49:08,636 | INFO | OK received :)
2024-08-22 22:32:53,972 | INFO | --------------------
2024-08-22 22:32:53,972 | INFO | Report Client v2 init...
2024-08-22 22:32:53,972 | INFO | read_config() called
2024-08-22 22:32:53,972 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*конец\\s{1}отчета'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 22:32:54,214 | INFO | Will use received ip: 2.57.36.136
2024-08-22 22:32:54,214 | INFO | Report Client v2 started :)
2024-08-22 22:33:26,238 | INFO | --------------------
2024-08-22 22:33:26,238 | INFO | Report Client v2 init...
2024-08-22 22:33:26,238 | INFO | read_config() called
2024-08-22 22:33:26,239 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*конец\\s{1}отчета'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 22:33:36,099 | INFO | --------------------
2024-08-22 22:33:36,099 | INFO | Report Client v2 init...
2024-08-22 22:33:36,099 | INFO | read_config() called
2024-08-22 22:33:36,099 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*конец\\s{1}отчета'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 22:33:41,073 | INFO | --------------------
2024-08-22 22:33:41,074 | INFO | Report Client v2 init...
2024-08-22 22:33:41,074 | INFO | read_config() called
2024-08-22 22:33:41,074 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*конец\\s{1}отчета'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:03:22,300 | INFO | --------------------
2024-08-22 23:03:22,300 | INFO | Report Client v2 init...
2024-08-22 23:03:22,300 | INFO | read_config() called
2024-08-22 23:03:22,300 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:03:22,611 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:03:22,612 | INFO | Report Client v2 started :)
2024-08-22 23:03:22,617 | INFO | Message to long, will be divided
2024-08-22 23:03:22,617 | ERROR | check_for_reports_loop() error: 'list' object cannot be interpreted as an integer Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 193, in check_for_reports_loop
    save_report_tosend_folder(tmp_name, rep_text)
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 161, in save_report_tosend_folder
    for i in range(messages):
TypeError: 'list' object cannot be interpreted as an integer

2024-08-22 23:04:39,347 | INFO | --------------------
2024-08-22 23:04:39,348 | INFO | Report Client v2 init...
2024-08-22 23:04:39,348 | INFO | read_config() called
2024-08-22 23:04:39,348 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:04:39,550 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:04:39,550 | INFO | Report Client v2 started :)
2024-08-22 23:05:08,857 | INFO | --------------------
2024-08-22 23:05:08,857 | INFO | Report Client v2 init...
2024-08-22 23:05:08,857 | INFO | read_config() called
2024-08-22 23:05:08,858 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:05:09,078 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:05:09,078 | INFO | Report Client v2 started :)
2024-08-22 23:05:09,079 | INFO | Message to long, will be divided
2024-08-22 23:05:09,080 | INFO | Report part 0 saved to tosend/0-rep4236734.txt
2024-08-22 23:05:09,080 | INFO | Report part 1 saved to tosend/1-rep4236734.txt
2024-08-22 23:05:09,080 | INFO | Report part 2 saved to tosend/2-rep4236734.txt
2024-08-22 23:05:09,080 | INFO | Will send following data to server:
1883 [сменный/другие]
кассовый день 19.08.2024

               Смена 3674

                  19.08.2024 13:18:30

----------------------------------------

 код       блюдо       кол-во   сумма

----------------------------------------

Категория: БАР Алкоголь

22   ГорілкаКоз.          1.00     33.00

     РадаКласична 50мл

Всего по категории:                33.00



Категория: Бар додатки

293  Лимон 20г            1.00     10.00

Всего по категории:                10.00



Категория: БАР кава

279  Кава Американо       2.00     78.00

Всего по категории:                78.00



Категория: Вода питна ЧистоВода

4992 Вода очищ.           1.00     25.00

     ЧистоВода Прем.н/

     г0,5л

Всего по категории:                25.00



Категория: Доставка

6106 Доставка ГЛОВО       1.00      0.01

Всего по категории:                 0.01



Категория: Інше

3972 Деки однораз.1шт     8.00      0.08

Всего по категории:                 0.08



Категория: Кавказька кухня

1761 Хачапурі по-         1.00    149.00

     аджарськи

Всего по категории:               149.00



Категория: КВАС вл.вир.

2016 Квас з бузини        1.00     35.00

     250мл

Всего по категории:                35.00



Категория: КУХНЯ Гарніри

176  Картопля фрі         2.00    178.00

Всего по категории:               178.00



Категория: КУХНЯ Ласощі

207  Шоколадний вулкан    1.00    119.00

Всего по категории:               119.00



Категория: КУХНЯ Молочні коктейлі

229  МК Полунична         1.00    125.00

     радість

Всего по категории:               125.00



Категория: КУХНЯ Паста

650  Спагетті             1.00    115.00

     "Болоньєзе"

Всего по категории:               115.00



Категория: КУХНЯ Рідкі страви

5111 Борщик зелений       2.00    218.00

     (мала) (без

     горщика)

3910 Борщик український   1.00    139.00

     (вел)

140  Борщик український   3.00    237.00

     (мала)

144  Суп курячий з дом.   2.00    138.00

     локш.(мала)

5314 Хол.лит.суп з        1.00     79.00

     буряка

Всего по категории:               811.00



Категория: КУХНЯ Салати

99   Салат Класичний з    1.00     75.00



========================

капусти

Всего по категории:                75.00



Категория: КУХНЯ Смачні полт.наїдки

181  Галушки ВЕЛ з м      1.00    119.00

     "ясом під гриб.с

6261 Галушки МАЛ з м      1.00     89.00

     "ясом під гриб.с

117  Деруни з             1.00     89.00

     грибочками та

     сметанкою

Всего по категории:               297.00



Категория: КУХНЯ соки власні

2197 Сок томатний         1.00     25.00

     (влас.вир.) 250мл

Всего по категории:                25.00



Категория: Пиво власне

52   Медове 0,5л          1.00     60.00

46   Пиво Блек Бір 0,5л   1.00     60.00

40   Пріма Мюнхен 0,33л   4.00    180.00

41   Пріма Мюнхен 0,5л    1.00     55.00

31   Пріма Пілснер 0,     3.00    135.00

     33л

34   Пріма Пілснер 0,5л   5.00    275.00

37   Пріма Пілснер 1л     1.00    106.00

     (бокал)

Всего по категории:               871.00



Категория: Піцца

439  Піцца Гавайська      2.00    338.00

430  Піцца Ді Карне (м    1.00    209.00

     "ясна)

446  Піцца Кальцоне       1.00    139.00

     Полло-Фунгі

6254 Піцца Карбонара      1.00    218.00

     (Глово)

Всего по категории:               904.00



Категория: Піцца (добавки)

467  Сир моцарела 120г    1.00     70.00

Всего по категории:                70.00



Категория: Узвар

4915 Узвар 1л             1.00     80.00

Всего по категории:                80.00



Категория: УПАКОВКА кухня

5079 Коррекс для соуса    1.00      2.00

     (дост.) 1шт.

5080 Коррекс мал.(дост.   1.00      5.00

     ) 1шт.

5081 Коррекс під рідкі    1.00      7.00

     страви (доставка)

     1шт.

Всего по категории:                14.00



Категория: УПАКОВКА пакеты фирм. майка

7051 Пакет (винос)        1.00      5.00

     кухня

Всего по категории:                 5.00



Категория: УПАКОВКА пицца

6288 Упаковка (Д) д/      1.00      0.01

     піцци СТАНД с лого

Всего по категории:                 0.01



Категория: Хліб власний

191  Хліб чорний          2.00     24.00

     домашній 100г

Всего по категории:                24.00



----------------------------------------

                 Всего:          4043.10
2024-08-22 23:05:09,245 | INFO | Trying to send tosend/2-rep4236734.txt to 2.57.36.136
2024-08-22 23:05:09,246 | INFO | ###############################
2024-08-22 23:05:09,246 | INFO | Sending...
2024-08-22 23:06:24,252 | ERROR | send_reports_loop(), send_file_to_server() level: [Errno 60] Operation timed out Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 242, in send_reports_loop
    is_sent_ok = send_file_to_server(addr_to_send, fpath)
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 214, in send_file_to_server
    clientsocket.connect((addr, SERVER_PORT))
TimeoutError: [Errno 60] Operation timed out

2024-08-22 23:06:24,255 | INFO | Trying to send tosend/0-rep4236734.txt to 2.57.36.136
2024-08-22 23:06:24,255 | INFO | ###############################
2024-08-22 23:06:24,255 | INFO | Sending...
2024-08-22 23:14:03,994 | INFO | --------------------
2024-08-22 23:14:03,994 | INFO | Report Client v2 init...
2024-08-22 23:14:03,995 | INFO | read_config() called
2024-08-22 23:14:03,995 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:14:04,220 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:14:04,220 | INFO | Report Client v2 started :)
2024-08-22 23:14:04,222 | INFO | Following data prepared for sending:
1883 [сменный/другие]
кассовый день 19.08.2024

               Смена 3674

                  19.08.2024 13:18:30

----------------------------------------

 код       блюдо       кол-во   сумма

----------------------------------------

Категория: БАР Алкоголь

22   ГорілкаКоз.          1.00     33.00

     РадаКласична 50мл

Всего по категории:                33.00



Категория: Бар додатки

293  Лимон 20г            1.00     10.00

Всего по категории:                10.00



Категория: БАР кава

279  Кава Американо       2.00     78.00

Всего по категории:                78.00



Категория: Вода питна ЧистоВода

4992 Вода очищ.           1.00     25.00

     ЧистоВода Прем.н/

     г0,5л

Всего по категории:                25.00



Категория: Доставка

6106 Доставка ГЛОВО       1.00      0.01

Всего по категории:                 0.01



Категория: Інше

3972 Деки однораз.1шт     8.00      0.08

Всего по категории:                 0.08



Категория: Кавказька кухня

1761 Хачапурі по-         1.00    149.00

     аджарськи

Всего по категории:               149.00



Категория: КВАС вл.вир.

2016 Квас з бузини        1.00     35.00

     250мл

Всего по категории:                35.00



Категория: КУХНЯ Гарніри

176  Картопля фрі         2.00    178.00

Всего по категории:               178.00



Категория: КУХНЯ Ласощі

207  Шоколадний вулкан    1.00    119.00

Всего по категории:               119.00



Категория: КУХНЯ Молочні коктейлі

229  МК Полунична         1.00    125.00

     радість

Всего по категории:               125.00



Категория: КУХНЯ Паста

650  Спагетті             1.00    115.00

     "Болоньєзе"

Всего по категории:               115.00



Категория: КУХНЯ Рідкі страви

5111 Борщик зелений       2.00    218.00

     (мала) (без

     горщика)

3910 Борщик український   1.00    139.00

     (вел)

140  Борщик український   3.00    237.00

     (мала)

144  Суп курячий з дом.   2.00    138.00

     локш.(мала)

5314 Хол.лит.суп з        1.00     79.00

     буряка

Всего по категории:               811.00



Категория: КУХНЯ Салати

99   Салат Класичний з    1.00     75.00



========================

капусти

Всего по категории:                75.00



Категория: КУХНЯ Смачні полт.наїдки

181  Галушки ВЕЛ з м      1.00    119.00

     "ясом під гриб.с

6261 Галушки МАЛ з м      1.00     89.00

     "ясом під гриб.с

117  Деруни з             1.00     89.00

     грибочками та

     сметанкою

Всего по категории:               297.00



Категория: КУХНЯ соки власні

2197 Сок томатний         1.00     25.00

     (влас.вир.) 250мл

Всего по категории:                25.00



Категория: Пиво власне

52   Медове 0,5л          1.00     60.00

46   Пиво Блек Бір 0,5л   1.00     60.00

40   Пріма Мюнхен 0,33л   4.00    180.00

41   Пріма Мюнхен 0,5л    1.00     55.00

31   Пріма Пілснер 0,     3.00    135.00

     33л

34   Пріма Пілснер 0,5л   5.00    275.00

37   Пріма Пілснер 1л     1.00    106.00

     (бокал)

Всего по категории:               871.00



Категория: Піцца

439  Піцца Гавайська      2.00    338.00

430  Піцца Ді Карне (м    1.00    209.00

     "ясна)

446  Піцца Кальцоне       1.00    139.00

     Полло-Фунгі

6254 Піцца Карбонара      1.00    218.00

     (Глово)

Всего по категории:               904.00



Категория: Піцца (добавки)

467  Сир моцарела 120г    1.00     70.00

Всего по категории:                70.00



Категория: Узвар

4915 Узвар 1л             1.00     80.00

Всего по категории:                80.00



Категория: УПАКОВКА кухня

5079 Коррекс для соуса    1.00      2.00

     (дост.) 1шт.

5080 Коррекс мал.(дост.   1.00      5.00

     ) 1шт.

5081 Коррекс під рідкі    1.00      7.00

     страви (доставка)

     1шт.

Всего по категории:                14.00



Категория: УПАКОВКА пакеты фирм. майка

7051 Пакет (винос)        1.00      5.00

     кухня

Всего по категории:                 5.00



Категория: УПАКОВКА пицца

6288 Упаковка (Д) д/      1.00      0.01

     піцци СТАНД с лого

Всего по категории:                 0.01



Категория: Хліб власний

191  Хліб чорний          2.00     24.00

     домашній 100г

Всего по категории:                24.00



----------------------------------------

                 Всего:          4043.10
2024-08-22 23:14:04,223 | INFO | Report saved to tosend/rep6615665.txt
2024-08-22 23:14:04,391 | INFO | Trying to send tosend/rep6615665.txt to 2.57.36.136
2024-08-22 23:14:04,391 | INFO | ###############################
2024-08-22 23:14:04,392 | INFO | Sending...
2024-08-22 23:16:04,083 | INFO | --------------------
2024-08-22 23:16:04,083 | INFO | Report Client v2 init...
2024-08-22 23:16:04,083 | INFO | read_config() called
2024-08-22 23:16:04,084 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:16:04,312 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:16:04,313 | INFO | Report Client v2 started :)
2024-08-22 23:16:04,314 | INFO | Following data prepared for sending:
1883 [сменный/другие]
кассовый день 19.08.2024

               Смена 3674

                  19.08.2024 13:18:30

----------------------------------------

 код       блюдо       кол-во   сумма

----------------------------------------

Категория: БАР Алкоголь

22   ГорілкаКоз.          1.00     33.00

     РадаКласична 50мл

Всего по категории:                33.00



Категория: Бар додатки

293  Лимон 20г            1.00     10.00

Всего по категории:                10.00



Категория: БАР кава

279  Кава Американо       2.00     78.00

Всего по категории:                78.00



Категория: Вода питна ЧистоВода

4992 Вода очищ.           1.00     25.00

     ЧистоВода Прем.н/

     г0,5л

Всего по категории:                25.00



Категория: Доставка

6106 Доставка ГЛОВО       1.00      0.01

Всего по категории:                 0.01



Категория: Інше

3972 Деки однораз.1шт     8.00      0.08

Всего по категории:                 0.08



Категория: Кавказька кухня

1761 Хачапурі по-         1.00    149.00

     аджарськи

Всего по категории:               149.00



Категория: КВАС вл.вир.

2016 Квас з бузини        1.00     35.00

     250мл

Всего по категории:                35.00



Категория: КУХНЯ Гарніри

176  Картопля фрі         2.00    178.00

Всего по категории:               178.00



Категория: КУХНЯ Ласощі

207  Шоколадний вулкан    1.00    119.00

Всего по категории:               119.00



Категория: КУХНЯ Молочні коктейлі

229  МК Полунична         1.00    125.00

     радість

Всего по категории:               125.00



Категория: КУХНЯ Паста

650  Спагетті             1.00    115.00

     "Болоньєзе"

Всего по категории:               115.00



Категория: КУХНЯ Рідкі страви

5111 Борщик зелений       2.00    218.00

     (мала) (без

     горщика)

3910 Борщик український   1.00    139.00

     (вел)

140  Борщик український   3.00    237.00

     (мала)

144  Суп курячий з дом.   2.00    138.00

     локш.(мала)

5314 Хол.лит.суп з        1.00     79.00

     буряка

Всего по категории:               811.00



Категория: КУХНЯ Салати

99   Салат Класичний з    1.00     75.00



========================

капусти

Всего по категории:                75.00



Категория: КУХНЯ Смачні полт.наїдки

181  Галушки ВЕЛ з м      1.00    119.00

     "ясом під гриб.с

6261 Галушки МАЛ з м      1.00     89.00

     "ясом під гриб.с

117  Деруни з             1.00     89.00

     грибочками та

     сметанкою

Всего по категории:               297.00



Категория: КУХНЯ соки власні

2197 Сок томатний         1.00     25.00

     (влас.вир.) 250мл

Всего по категории:                25.00



Категория: Пиво власне

52   Медове 0,5л          1.00     60.00

46   Пиво Блек Бір 0,5л   1.00     60.00

40   Пріма Мюнхен 0,33л   4.00    180.00

41   Пріма Мюнхен 0,5л    1.00     55.00

31   Пріма Пілснер 0,     3.00    135.00

     33л

34   Пріма Пілснер 0,5л   5.00    275.00

37   Пріма Пілснер 1л     1.00    106.00

     (бокал)

Всего по категории:               871.00



Категория: Піцца

439  Піцца Гавайська      2.00    338.00

430  Піцца Ді Карне (м    1.00    209.00

     "ясна)

446  Піцца Кальцоне       1.00    139.00

     Полло-Фунгі

6254 Піцца Карбонара      1.00    218.00

     (Глово)

Всего по категории:               904.00



Категория: Піцца (добавки)

467  Сир моцарела 120г    1.00     70.00

Всего по категории:                70.00



Категория: Узвар

4915 Узвар 1л             1.00     80.00

Всего по категории:                80.00



Категория: УПАКОВКА кухня

5079 Коррекс для соуса    1.00      2.00

     (дост.) 1шт.

5080 Коррекс мал.(дост.   1.00      5.00

     ) 1шт.

5081 Коррекс під рідкі    1.00      7.00

     страви (доставка)

     1шт.

Всего по категории:                14.00



Категория: УПАКОВКА пакеты фирм. майка

7051 Пакет (винос)        1.00      5.00

     кухня

Всего по категории:                 5.00



Категория: УПАКОВКА пицца

6288 Упаковка (Д) д/      1.00      0.01

     піцци СТАНД с лого

Всего по категории:                 0.01



Категория: Хліб власний

191  Хліб чорний          2.00     24.00

     домашній 100г

Всего по категории:                24.00



----------------------------------------

                 Всего:          4043.10
2024-08-22 23:16:04,315 | INFO | Report saved to tosend/rep1591816.txt
2024-08-22 23:16:04,479 | INFO | Trying to send tosend/rep1591816.txt to 2.57.36.136
2024-08-22 23:16:04,479 | INFO | ###############################
2024-08-22 23:16:04,480 | INFO | Sending...
2024-08-22 23:16:46,869 | INFO | --------------------
2024-08-22 23:16:46,869 | INFO | Report Client v2 init...
2024-08-22 23:16:46,869 | INFO | read_config() called
2024-08-22 23:16:46,869 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:16:47,093 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:16:47,093 | INFO | Report Client v2 started :)
2024-08-22 23:16:47,265 | INFO | Trying to send tosend/rep1591816.txt to 2.57.36.136
2024-08-22 23:16:47,265 | INFO | ###############################
2024-08-22 23:16:47,266 | INFO | Sending...
2024-08-22 23:17:08,202 | INFO | --------------------
2024-08-22 23:17:08,203 | INFO | Report Client v2 init...
2024-08-22 23:17:08,203 | INFO | read_config() called
2024-08-22 23:17:08,203 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:17:08,442 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:17:08,442 | INFO | Report Client v2 started :)
2024-08-22 23:17:08,444 | INFO | Message to long, will be divided
2024-08-22 23:17:08,444 | INFO | Following data prepared for sending:
1883 [сменный/другие]
[часть 1]
кассовый день 19.08.2024

               Смена 3674

                  19.08.2024 13:18:30

----------------------------------------

 код       блюдо       кол-во   сумма

----------------------------------------

Категория: БАР Алкоголь

22   ГорілкаКоз.          1.00     33.00

     РадаКласична 50мл

Всего по категории:                33.00



Категория: Бар додатки

293  Лимон 20г            1.00     10.00

Всего по категории:                10.00



Категория: БАР кава

279  Кава Американо       2.00     78.00

Всего по категории:                78.00



Категория: Вода питна ЧистоВода

4992 Вода очищ.           1.00     25.00

     ЧистоВода Прем.н/

     г0,5л

Всего по категории:                25.00



Категория: Доставка

6106 Доставка ГЛОВО       1.00      0.01

Всего по категории:                 0.01



Категория: Інше

3972 Деки однораз.1шт     8.00      0.08

Всего по категории:                 0.08



Категория: Кавказька кухня

1761 Хачапурі по-         1.00    149.00

     аджарськи

Всего по категории:               149.00



Категория: КВАС вл.вир.

2016 Квас з бузини        1.00     35.00

     250мл

Всего по категории:                35.00



Категория: КУХНЯ Гарніри

176  Картопля фрі         2.00    178.00

Всего по категории:               178.00



Категория: КУХНЯ Ласощі

207  Шоколадний вулкан    1.00    119.00

Всего по категории:               119.00



Категория: КУХНЯ Молочні коктейлі

229  МК Полунична         1.00    125.00

     радість

Всего по категории:               125.00



Категория: КУХНЯ Паста

650  Спагетті             1.00    115.00

     "Болоньєзе"

Всего по категории:               115.00



Категория: КУХНЯ Рідкі страви

5111 Борщик зелений       2.00    218.00

     (мала) (без

     горщика)

3910 Борщик український   1.00    139.00

     (вел)

140  Борщик український   3.00    237.00

     (мала)

144  Суп куряч
2024-08-22 23:17:08,444 | INFO | Report part 0 saved to tosend/0-rep4400076.txt
2024-08-22 23:17:08,445 | INFO | Following data prepared for sending:
1883 [сменный/другие]
[часть 2]
ий з дом.   2.00    138.00

     локш.(мала)

5314 Хол.лит.суп з        1.00     79.00

     буряка

Всего по категории:               811.00



Категория: КУХНЯ Салати

99   Салат Класичний з    1.00     75.00



========================

капусти

Всего по категории:                75.00



Категория: КУХНЯ Смачні полт.наїдки

181  Галушки ВЕЛ з м      1.00    119.00

     "ясом під гриб.с

6261 Галушки МАЛ з м      1.00     89.00

     "ясом під гриб.с

117  Деруни з             1.00     89.00

     грибочками та

     сметанкою

Всего по категории:               297.00



Категория: КУХНЯ соки власні

2197 Сок томатний         1.00     25.00

     (влас.вир.) 250мл

Всего по категории:                25.00



Категория: Пиво власне

52   Медове 0,5л          1.00     60.00

46   Пиво Блек Бір 0,5л   1.00     60.00

40   Пріма Мюнхен 0,33л   4.00    180.00

41   Пріма Мюнхен 0,5л    1.00     55.00

31   Пріма Пілснер 0,     3.00    135.00

     33л

34   Пріма Пілснер 0,5л   5.00    275.00

37   Пріма Пілснер 1л     1.00    106.00

     (бокал)

Всего по категории:               871.00



Категория: Піцца

439  Піцца Гавайська      2.00    338.00

430  Піцца Ді Карне (м    1.00    209.00

     "ясна)

446  Піцца Кальцоне       1.00    139.00

     Полло-Фунгі

6254 Піцца Карбонара      1.00    218.00

     (Глово)

Всего по категории:               904.00



Категория: Піцца (добавки)

467  Сир моцарела 120г    1.00     70.00

Всего по категории:                70.00



Категория: Узвар

4915 Узвар 1л             1.00     80.00

Всего по категории:                80.00



Категория: УПАКОВКА кухня

5079 Коррекс для соуса    1.00      2.00

     (дост.) 1шт.

5080 Коррекс мал.(дост.   1.00      5.00

     ) 1шт.

5081 Коррекс під рідкі    1.00      7.00

     страви (доставка)

     1шт.

Всего по категории:                14.00



Категория: УПАКОВКА пакеты фирм. ма
2024-08-22 23:17:08,445 | INFO | Report part 1 saved to tosend/1-rep4400076.txt
2024-08-22 23:17:08,445 | INFO | Following data prepared for sending:
1883 [сменный/другие]
[часть 3]
йка

7051 Пакет (винос)        1.00      5.00

     кухня

Всего по категории:                 5.00



Категория: УПАКОВКА пицца

6288 Упаковка (Д) д/      1.00      0.01

     піцци СТАНД с лого

Всего по категории:                 0.01



Категория: Хліб власний

191  Хліб чорний          2.00     24.00

     домашній 100г

Всего по категории:                24.00



----------------------------------------

                 Всего:          4043.10
2024-08-22 23:17:08,445 | INFO | Report part 2 saved to tosend/2-rep4400076.txt
2024-08-22 23:17:08,612 | INFO | Trying to send tosend/2-rep4400076.txt to 2.57.36.136
2024-08-22 23:17:08,612 | INFO | ###############################
2024-08-22 23:17:08,612 | INFO | Sending...
2024-08-22 23:18:23,621 | ERROR | send_reports_loop(), send_file_to_server() level: [Errno 60] Operation timed out Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 242, in send_reports_loop
    is_sent_ok = send_file_to_server(addr_to_send, fpath)
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 214, in send_file_to_server
    clientsocket.connect((addr, SERVER_PORT))
TimeoutError: [Errno 60] Operation timed out

2024-08-22 23:18:23,632 | INFO | Trying to send tosend/0-rep4400076.txt to 2.57.36.136
2024-08-22 23:18:23,633 | INFO | ###############################
2024-08-22 23:18:23,634 | INFO | Sending...
2024-08-22 23:19:39,591 | INFO | --------------------
2024-08-22 23:19:39,591 | INFO | Report Client v2 init...
2024-08-22 23:19:39,591 | INFO | read_config() called
2024-08-22 23:19:39,591 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:19:39,828 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:19:39,829 | INFO | Report Client v2 started :)
2024-08-22 23:19:40,003 | INFO | Trying to send tosend/2-rep4400076.txt to 2.57.36.136
2024-08-22 23:19:40,003 | INFO | ###############################
2024-08-22 23:19:40,004 | INFO | Sending...
2024-08-22 23:19:40,031 | INFO | Sent. Waiting for resp...
2024-08-22 23:20:01,618 | ERROR | send_reports_loop(), send_file_to_server() level: [Errno 54] Connection reset by peer Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 242, in send_reports_loop
    is_sent_ok = send_file_to_server(addr_to_send, fpath)
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 217, in send_file_to_server
    resp = clientsocket.recv(128)
ConnectionResetError: [Errno 54] Connection reset by peer

2024-08-22 23:20:01,618 | INFO | Trying to send tosend/0-rep4400076.txt to 2.57.36.136
2024-08-22 23:20:01,619 | INFO | ###############################
2024-08-22 23:20:01,619 | INFO | Sending...
2024-08-22 23:20:11,751 | INFO | --------------------
2024-08-22 23:20:11,751 | INFO | Report Client v2 init...
2024-08-22 23:20:11,751 | INFO | read_config() called
2024-08-22 23:20:11,751 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:20:11,962 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:20:11,962 | INFO | Report Client v2 started :)
2024-08-22 23:20:12,135 | INFO | Trying to send tosend/2-rep4400076.txt to 2.57.36.136
2024-08-22 23:20:12,135 | INFO | ###############################
2024-08-22 23:20:12,136 | INFO | Sending...
2024-08-22 23:20:12,164 | INFO | Sent. Waiting for resp...
2024-08-22 23:20:12,301 | INFO | Resp:b'OK\r\n'
2024-08-22 23:20:12,302 | INFO | OK received :)
2024-08-22 23:20:12,302 | INFO | Trying to send tosend/0-rep4400076.txt to 2.57.36.136
2024-08-22 23:20:12,303 | INFO | ###############################
2024-08-22 23:20:12,304 | INFO | Sending...
2024-08-22 23:20:12,333 | INFO | Sent. Waiting for resp...
2024-08-22 23:20:12,448 | INFO | Resp:b'OK\r\n'
2024-08-22 23:20:12,449 | INFO | OK received :)
2024-08-22 23:20:12,449 | INFO | Trying to send tosend/1-rep4400076.txt to 2.57.36.136
2024-08-22 23:20:12,449 | INFO | ###############################
2024-08-22 23:20:12,450 | INFO | Sending...
2024-08-22 23:20:12,477 | INFO | Sent. Waiting for resp...
2024-08-22 23:20:12,613 | INFO | Resp:b'OK\r\n'
2024-08-22 23:20:12,614 | INFO | OK received :)
2024-08-22 23:24:32,195 | INFO | --------------------
2024-08-22 23:24:32,195 | INFO | Report Client v2 init...
2024-08-22 23:24:32,195 | INFO | read_config() called
2024-08-22 23:24:32,195 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:24:32,421 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:24:32,421 | INFO | Report Client v2 started :)
2024-08-22 23:24:32,423 | INFO | Message to long, will be divided
2024-08-22 23:24:32,423 | INFO | Following data prepared for sending:
1883 [сменный/другие]
[часть 1]
кассовый день 19.08.2024

               Смена 3674

                  19.08.2024 13:18:30

----------------------------------------

 код       блюдо       кол-во   сумма

----------------------------------------

Категория: БАР Алкоголь

22   ГорілкаКоз.          1.00     33.00

     РадаКласична 50мл

Всего по категории:                33.00



Категория: Бар додатки

293  Лимон 20г            1.00     10.00

Всего по категории:                10.00



Категория: БАР кава

279  Кава Американо       2.00     78.00

Всего по категории:                78.00



Категория: Вода питна ЧистоВода

4992 Вода очищ.           1.00     25.00

     ЧистоВода Прем.н/

     г0,5л

Всего по категории:                25.00



Категория: Доставка

6106 Доставка ГЛОВО       1.00      0.01

Всего по категории:                 0.01



Категория: Інше

3972 Деки однораз.1шт     8.00      0.08

Всего по категории:                 0.08



Категория: Кавказька кухня

1761 Хачапурі по-         1.00    149.00

     аджарськи

Всего по категории:               149.00



Категория: КВАС вл.вир.

2016 Квас з бузини        1.00     35.00

     250мл

Всего по категории:                35.00



Категория: КУХНЯ Гарніри

176  Картопля фрі         2.00    178.00

Всего по категории:               178.00



Категория: КУХНЯ Ласощі

207  Шоколадний вулкан    1.00    119.00

Всего по категории:               119.00



Категория: КУХНЯ Молочні коктейлі

229  МК Полунична         1.00    125.00

     радість

Всего по категории:               125.00



Категория: КУХНЯ Паста

650  Спагетті             1.00    115.00

     "Болоньєзе"

Всего по категории:               115.00



Категория: КУХНЯ Рідкі страви

5111 Борщик зелений       2.00    218.00

     (мала) (без

     горщика)

3910 Борщик український   1.00    139.00

     (вел)

140  Борщик український   3.00    237.00

     (мала)

144  Суп куряч
2024-08-22 23:24:32,423 | INFO | Report part 0 saved to tosend/0-rep2708547.txt
2024-08-22 23:24:32,423 | INFO | Following data prepared for sending:
1883 [сменный/другие]
[часть 2]
ий з дом.   2.00    138.00

     локш.(мала)

5314 Хол.лит.суп з        1.00     79.00

     буряка

Всего по категории:               811.00



Категория: КУХНЯ Салати

99   Салат Класичний з    1.00     75.00



========================

капусти

Всего по категории:                75.00



Категория: КУХНЯ Смачні полт.наїдки

181  Галушки ВЕЛ з м      1.00    119.00

     "ясом під гриб.с

6261 Галушки МАЛ з м      1.00     89.00

     "ясом під гриб.с

117  Деруни з             1.00     89.00

     грибочками та

     сметанкою

Всего по категории:               297.00



Категория: КУХНЯ соки власні

2197 Сок томатний         1.00     25.00

     (влас.вир.) 250мл

Всего по категории:                25.00



Категория: Пиво власне

52   Медове 0,5л          1.00     60.00

46   Пиво Блек Бір 0,5л   1.00     60.00

40   Пріма Мюнхен 0,33л   4.00    180.00

41   Пріма Мюнхен 0,5л    1.00     55.00

31   Пріма Пілснер 0,     3.00    135.00

     33л

34   Пріма Пілснер 0,5л   5.00    275.00

37   Пріма Пілснер 1л     1.00    106.00

     (бокал)

Всего по категории:               871.00



Категория: Піцца

439  Піцца Гавайська      2.00    338.00

430  Піцца Ді Карне (м    1.00    209.00

     "ясна)

446  Піцца Кальцоне       1.00    139.00

     Полло-Фунгі

6254 Піцца Карбонара      1.00    218.00

     (Глово)

Всего по категории:               904.00



Категория: Піцца (добавки)

467  Сир моцарела 120г    1.00     70.00

Всего по категории:                70.00



Категория: Узвар

4915 Узвар 1л             1.00     80.00

Всего по категории:                80.00



Категория: УПАКОВКА кухня

5079 Коррекс для соуса    1.00      2.00

     (дост.) 1шт.

5080 Коррекс мал.(дост.   1.00      5.00

     ) 1шт.

5081 Коррекс під рідкі    1.00      7.00

     страви (доставка)

     1шт.

Всего по категории:                14.00



Категория: УПАКОВКА пакеты фирм. ма
2024-08-22 23:24:32,423 | INFO | Report part 1 saved to tosend/1-rep2708547.txt
2024-08-22 23:24:32,423 | INFO | Following data prepared for sending:
1883 [сменный/другие]
[часть 3]
йка

7051 Пакет (винос)        1.00      5.00

     кухня

Всего по категории:                 5.00



Категория: УПАКОВКА пицца

6288 Упаковка (Д) д/      1.00      0.01

     піцци СТАНД с лого

Всего по категории:                 0.01



Категория: Хліб власний

191  Хліб чорний          2.00     24.00

     домашній 100г

Всего по категории:                24.00



----------------------------------------

                 Всего:          4043.10
2024-08-22 23:24:32,424 | INFO | Report part 2 saved to tosend/2-rep2708547.txt
2024-08-22 23:24:32,594 | INFO | Trying to send tosend/0-rep2708547.txt to 2.57.36.136
2024-08-22 23:24:32,594 | INFO | ###############################
2024-08-22 23:24:32,594 | INFO | Sending...
2024-08-22 23:24:32,623 | INFO | Sent. Waiting for resp...
2024-08-22 23:24:47,576 | ERROR | send_reports_loop(), send_file_to_server() level: [Errno 54] Connection reset by peer Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 242, in send_reports_loop
    is_sent_ok = send_file_to_server(addr_to_send, fpath)
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 217, in send_file_to_server
    resp = clientsocket.recv(128)
ConnectionResetError: [Errno 54] Connection reset by peer

2024-08-22 23:24:47,577 | INFO | Trying to send tosend/1-rep2708547.txt to 2.57.36.136
2024-08-22 23:24:47,577 | INFO | ###############################
2024-08-22 23:24:47,578 | INFO | Sending...
2024-08-22 23:25:04,678 | INFO | --------------------
2024-08-22 23:25:04,678 | INFO | Report Client v2 init...
2024-08-22 23:25:04,678 | INFO | read_config() called
2024-08-22 23:25:04,679 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:25:04,904 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:25:04,904 | INFO | Report Client v2 started :)
2024-08-22 23:25:04,905 | INFO | Message to long, will be divided
2024-08-22 23:25:04,905 | INFO | Following data prepared for sending:
1883 [сменный/другие]
[часть 1]
кассовый день 19.08.2024

               Смена 3674

                  19.08.2024 13:18:30

----------------------------------------

 код       блюдо       кол-во   сумма

----------------------------------------

Категория: БАР Алкоголь

22   ГорілкаКоз.          1.00     33.00

     РадаКласична 50мл

Всего по категории:                33.00



Категория: Бар додатки

293  Лимон 20г            1.00     10.00

Всего по категории:                10.00



Категория: БАР кава

279  Кава Американо       2.00     78.00

Всего по категории:                78.00



Категория: Вода питна ЧистоВода

4992 Вода очищ.           1.00     25.00

     ЧистоВода Прем.н/

     г0,5л

Всего по категории:                25.00



Категория: Доставка

6106 Доставка ГЛОВО       1.00      0.01

Всего по категории:                 0.01



Категория: Інше

3972 Деки однораз.1шт     8.00      0.08

Всего по категории:                 0.08



Категория: Кавказька кухня

1761 Хачапурі по-         1.00    149.00

     аджарськи

Всего по категории:               149.00



Категория: КВАС вл.вир.

2016 Квас з бузини        1.00     35.00

     250мл

Всего по категории:                35.00



Категория: КУХНЯ Гарніри

176  Картопля фрі         2.00    178.00

Всего по категории:               178.00



Категория: КУХНЯ Ласощі

207  Шоколадний вулкан    1.00    119.00

Всего по категории:               119.00



Категория: КУХНЯ Молочні коктейлі

229  МК Полунична         1.00    125.00

     радість

Всего по категории:               125.00



Категория: КУХНЯ Паста

650  Спагетті             1.00    115.00

     "Болоньєзе"

Всего по категории:               115.00



Категория: КУХНЯ Рідкі страви

5111 Борщик зелений       2.00    218.00

     (мала) (без

     горщика)

3910 Борщик український   1.00    139.00

     (вел)

140  Борщик український   3.00    237.00

     (мала)

144  Суп куряч
2024-08-22 23:25:04,906 | INFO | Report part 0 saved to tosend/0-rep1922066.txt
2024-08-22 23:25:04,906 | INFO | Following data prepared for sending:
1883 [сменный/другие]
[часть 2]
ий з дом.   2.00    138.00

     локш.(мала)

5314 Хол.лит.суп з        1.00     79.00

     буряка

Всего по категории:               811.00



Категория: КУХНЯ Салати

99   Салат Класичний з    1.00     75.00



========================

капусти

Всего по категории:                75.00



Категория: КУХНЯ Смачні полт.наїдки

181  Галушки ВЕЛ з м      1.00    119.00

     "ясом під гриб.с

6261 Галушки МАЛ з м      1.00     89.00

     "ясом під гриб.с

117  Деруни з             1.00     89.00

     грибочками та

     сметанкою

Всего по категории:               297.00



Категория: КУХНЯ соки власні

2197 Сок томатний         1.00     25.00

     (влас.вир.) 250мл

Всего по категории:                25.00



Категория: Пиво власне

52   Медове 0,5л          1.00     60.00

46   Пиво Блек Бір 0,5л   1.00     60.00

40   Пріма Мюнхен 0,33л   4.00    180.00

41   Пріма Мюнхен 0,5л    1.00     55.00

31   Пріма Пілснер 0,     3.00    135.00

     33л

34   Пріма Пілснер 0,5л   5.00    275.00

37   Пріма Пілснер 1л     1.00    106.00

     (бокал)

Всего по категории:               871.00



Категория: Піцца

439  Піцца Гавайська      2.00    338.00

430  Піцца Ді Карне (м    1.00    209.00

     "ясна)

446  Піцца Кальцоне       1.00    139.00

     Полло-Фунгі

6254 Піцца Карбонара      1.00    218.00

     (Глово)

Всего по категории:               904.00



Категория: Піцца (добавки)

467  Сир моцарела 120г    1.00     70.00

Всего по категории:                70.00



Категория: Узвар

4915 Узвар 1л             1.00     80.00

Всего по категории:                80.00



Категория: УПАКОВКА кухня

5079 Коррекс для соуса    1.00      2.00

     (дост.) 1шт.

5080 Коррекс мал.(дост.   1.00      5.00

     ) 1шт.

5081 Коррекс під рідкі    1.00      7.00

     страви (доставка)

     1шт.

Всего по категории:                14.00



Категория: УПАКОВКА пакеты фирм. ма
2024-08-22 23:25:04,906 | INFO | Report part 1 saved to tosend/1-rep1922066.txt
2024-08-22 23:25:04,906 | INFO | Following data prepared for sending:
1883 [сменный/другие]
[часть 3]
йка

7051 Пакет (винос)        1.00      5.00

     кухня

Всего по категории:                 5.00



Категория: УПАКОВКА пицца

6288 Упаковка (Д) д/      1.00      0.01

     піцци СТАНД с лого

Всего по категории:                 0.01



Категория: Хліб власний

191  Хліб чорний          2.00     24.00

     домашній 100г

Всего по категории:                24.00



----------------------------------------

                 Всего:          4043.10
2024-08-22 23:25:04,906 | INFO | Report part 2 saved to tosend/2-rep1922066.txt
2024-08-22 23:25:05,078 | INFO | Trying to send tosend/0-rep1922066.txt to 2.57.36.136
2024-08-22 23:25:05,078 | INFO | ###############################
2024-08-22 23:25:05,078 | INFO | Sending...
2024-08-22 23:25:05,106 | INFO | Sent. Waiting for resp...
2024-08-22 23:25:05,250 | INFO | Resp:b'OK\r\n'
2024-08-22 23:25:05,250 | INFO | OK received :)
2024-08-22 23:25:05,250 | INFO | Trying to send tosend/0-rep2708547.txt to 2.57.36.136
2024-08-22 23:25:05,250 | INFO | ###############################
2024-08-22 23:25:05,251 | INFO | Sending...
2024-08-22 23:25:05,278 | INFO | Sent. Waiting for resp...
2024-08-22 23:25:05,406 | INFO | Resp:b'OK\r\n'
2024-08-22 23:25:05,407 | INFO | OK received :)
2024-08-22 23:25:05,407 | INFO | Trying to send tosend/1-rep1922066.txt to 2.57.36.136
2024-08-22 23:25:05,407 | INFO | ###############################
2024-08-22 23:25:05,407 | INFO | Sending...
2024-08-22 23:25:05,434 | INFO | Sent. Waiting for resp...
2024-08-22 23:25:05,550 | INFO | Resp:b'OK\r\n'
2024-08-22 23:25:05,550 | INFO | OK received :)
2024-08-22 23:25:05,551 | INFO | Trying to send tosend/1-rep2708547.txt to 2.57.36.136
2024-08-22 23:25:05,551 | INFO | ###############################
2024-08-22 23:25:05,551 | INFO | Sending...
2024-08-22 23:25:05,580 | INFO | Sent. Waiting for resp...
2024-08-22 23:25:05,715 | INFO | Resp:b'OK\r\n'
2024-08-22 23:25:05,716 | INFO | OK received :)
2024-08-22 23:25:05,716 | INFO | Trying to send tosend/2-rep1922066.txt to 2.57.36.136
2024-08-22 23:25:05,716 | INFO | ###############################
2024-08-22 23:25:05,717 | INFO | Sending...
2024-08-22 23:25:05,743 | INFO | Sent. Waiting for resp...
2024-08-22 23:25:05,869 | INFO | Resp:b'OK\r\n'
2024-08-22 23:25:05,869 | INFO | OK received :)
2024-08-22 23:25:05,869 | INFO | Trying to send tosend/2-rep2708547.txt to 2.57.36.136
2024-08-22 23:25:05,869 | INFO | ###############################
2024-08-22 23:25:05,869 | INFO | Sending...
2024-08-22 23:25:05,896 | INFO | Sent. Waiting for resp...
2024-08-22 23:25:05,944 | INFO | Resp:b'OK\r\n'
2024-08-22 23:25:05,944 | INFO | OK received :)
2024-08-22 23:25:50,576 | INFO | --------------------
2024-08-22 23:25:50,576 | INFO | Report Client v2 init...
2024-08-22 23:25:50,576 | INFO | read_config() called
2024-08-22 23:25:50,576 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:25:50,794 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:25:50,794 | INFO | Report Client v2 started :)
2024-08-22 23:25:50,795 | INFO | Message to long, will be divided
2024-08-22 23:25:50,795 | INFO | Following data prepared for sending:
1883 [сменный/другие]
[часть 1]
кассовый день 19.08.2024

               Смена 3674

                  19.08.2024 13:18:30

----------------------------------------

 код       блюдо       кол-во   сумма

----------------------------------------

Категория: БАР Алкоголь

22   ГорілкаКоз.          1.00     33.00

     РадаКласична 50мл

Всего по категории:                33.00



Категория: Бар додатки

293  Лимон 20г            1.00     10.00

Всего по категории:                10.00



Категория: БАР кава

279  Кава Американо       2.00     78.00

Всего по категории:                78.00



Категория: Вода питна ЧистоВода

4992 Вода очищ.           1.00     25.00

     ЧистоВода Прем.н/

     г0,5л

Всего по категории:                25.00



Категория: Доставка

6106 Доставка ГЛОВО       1.00      0.01

Всего по категории:                 0.01



Категория: Інше

3972 Деки однораз.1шт     8.00      0.08

Всего по категории:                 0.08



Категория: Кавказька кухня

1761 Хачапурі по-         1.00    149.00

     аджарськи

Всего по категории:               149.00



Категория: КВАС вл.вир.

2016 Квас з бузини        1.00     35.00

     250мл

Всего по категории:                35.00



Категория: КУХНЯ Гарніри

176  Картопля фрі         2.00    178.00

Всего по категории:               178.00



Категория: КУХНЯ Ласощі

207  Шоколадний вулкан    1.00    119.00

Всего по категории:               119.00



Категория: КУХНЯ Молочні коктейлі

229  МК Полунична         1.00    125.00

     радість

Всего по категории:               125.00



Категория: КУХНЯ Паста

650  Спагетті             1.00    115.00

     "Болоньєзе"

Всего по категории:               115.00



Категория: КУХНЯ Рідкі страви

5111 Борщик зелений       2.00    218.00

     (мала) (без

     горщика)

3910 Борщик український   1.00    139.00

     (вел)

140  Борщик український   3.00    237.00

     (мала)

144  Суп куряч
2024-08-22 23:25:50,796 | INFO | Report part 0 saved to tosend/0-rep2366887.txt
2024-08-22 23:25:50,796 | INFO | Following data prepared for sending:
1883 [сменный/другие]
[часть 2]
ий з дом.   2.00    138.00

     локш.(мала)

5314 Хол.лит.суп з        1.00     79.00

     буряка

Всего по категории:               811.00



Категория: КУХНЯ Салати

99   Салат Класичний з    1.00     75.00



========================

капусти

Всего по категории:                75.00



Категория: КУХНЯ Смачні полт.наїдки

181  Галушки ВЕЛ з м      1.00    119.00

     "ясом під гриб.с

6261 Галушки МАЛ з м      1.00     89.00

     "ясом під гриб.с

117  Деруни з             1.00     89.00

     грибочками та

     сметанкою

Всего по категории:               297.00



Категория: КУХНЯ соки власні

2197 Сок томатний         1.00     25.00

     (влас.вир.) 250мл

Всего по категории:                25.00



Категория: Пиво власне

52   Медове 0,5л          1.00     60.00

46   Пиво Блек Бір 0,5л   1.00     60.00

40   Пріма Мюнхен 0,33л   4.00    180.00

41   Пріма Мюнхен 0,5л    1.00     55.00

31   Пріма Пілснер 0,     3.00    135.00

     33л

34   Пріма Пілснер 0,5л   5.00    275.00

37   Пріма Пілснер 1л     1.00    106.00

     (бокал)

Всего по категории:               871.00



Категория: Піцца

439  Піцца Гавайська      2.00    338.00

430  Піцца Ді Карне (м    1.00    209.00

     "ясна)

446  Піцца Кальцоне       1.00    139.00

     Полло-Фунгі

6254 Піцца Карбонара      1.00    218.00

     (Глово)

Всего по категории:               904.00



Категория: Піцца (добавки)

467  Сир моцарела 120г    1.00     70.00

Всего по категории:                70.00



Категория: Узвар

4915 Узвар 1л             1.00     80.00

Всего по категории:                80.00



Категория: УПАКОВКА кухня

5079 Коррекс для соуса    1.00      2.00

     (дост.) 1шт.

5080 Коррекс мал.(дост.   1.00      5.00

     ) 1шт.

5081 Коррекс під рідкі    1.00      7.00

     страви (доставка)

     1шт.

Всего по категории:                14.00



Категория: УПАКОВКА пакеты фирм. ма
2024-08-22 23:25:50,796 | INFO | Report part 1 saved to tosend/1-rep2366887.txt
2024-08-22 23:25:50,796 | INFO | Following data prepared for sending:
1883 [сменный/другие]
[часть 3]
йка

7051 Пакет (винос)        1.00      5.00

     кухня

Всего по категории:                 5.00



Категория: УПАКОВКА пицца

6288 Упаковка (Д) д/      1.00      0.01

     піцци СТАНД с лого

Всего по категории:                 0.01



Категория: Хліб власний

191  Хліб чорний          2.00     24.00

     домашній 100г

Всего по категории:                24.00



----------------------------------------

                 Всего:          4043.10
2024-08-22 23:25:50,796 | INFO | Report part 2 saved to tosend/2-rep2366887.txt
2024-08-22 23:25:50,957 | INFO | Trying to send tosend/0-rep2366887.txt to 2.57.36.136
2024-08-22 23:25:50,957 | INFO | ###############################
2024-08-22 23:25:50,957 | INFO | Sending...
2024-08-22 23:25:50,984 | INFO | Sent. Waiting for resp...
2024-08-22 23:25:51,017 | INFO | Resp:b'OK\r\n'
2024-08-22 23:25:51,017 | INFO | OK received :)
2024-08-22 23:25:51,018 | INFO | Trying to send tosend/1-rep2366887.txt to 2.57.36.136
2024-08-22 23:25:51,018 | INFO | ###############################
2024-08-22 23:25:51,018 | INFO | Sending...
2024-08-22 23:25:51,046 | INFO | Sent. Waiting for resp...
2024-08-22 23:25:51,084 | INFO | Resp:b'OK\r\n'
2024-08-22 23:25:51,085 | INFO | OK received :)
2024-08-22 23:25:51,085 | INFO | Trying to send tosend/2-rep2366887.txt to 2.57.36.136
2024-08-22 23:25:51,085 | INFO | ###############################
2024-08-22 23:25:51,085 | INFO | Sending...
2024-08-22 23:25:51,112 | INFO | Sent. Waiting for resp...
2024-08-22 23:25:51,239 | INFO | Resp:b'OK\r\n'
2024-08-22 23:25:51,239 | INFO | OK received :)
2024-08-22 23:52:47,471 | INFO | --------------------
2024-08-22 23:52:47,471 | INFO | Report Client v2 init...
2024-08-22 23:52:47,471 | INFO | read_config() called
2024-08-22 23:52:47,472 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:52:47,840 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:52:47,840 | INFO | Report Client v2 started :)
2024-08-22 23:52:47,921 | ERROR | check_for_reports_loop() error: 'utf-8' codec can't decode byte 0xd0 in position 9: invalid continuation byte Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 187, in check_for_reports_loop
    lines = f.readlines()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 322, in decode
    (result, consumed) = self._buffer_decode(data, self.errors, final)
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xd0 in position 9: invalid continuation byte

2024-08-22 23:53:07,274 | INFO | --------------------
2024-08-22 23:53:07,274 | INFO | Report Client v2 init...
2024-08-22 23:53:07,274 | INFO | read_config() called
2024-08-22 23:53:07,275 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:53:07,516 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:53:07,516 | INFO | Report Client v2 started :)
2024-08-22 23:53:07,518 | ERROR | check_for_reports_loop() error: cannot use a string pattern on a bytes-like object Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 191, in check_for_reports_loop
    report_lines = get_report_by_markers(marker, lines)
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 107, in get_report_by_markers
    if re.match(mark_start, line):
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/re.py", line 191, in match
    return _compile(pattern, flags).match(string)
TypeError: cannot use a string pattern on a bytes-like object

2024-08-22 23:55:07,525 | ERROR | check_for_reports_loop() error: cannot use a string pattern on a bytes-like object Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 191, in check_for_reports_loop
    print(f'Current marker {marker}')
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 107, in get_report_by_markers
    if re.match(mark_start, line):
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/re.py", line 191, in match
    return _compile(pattern, flags).match(string)
TypeError: cannot use a string pattern on a bytes-like object

2024-08-22 23:55:18,257 | INFO | --------------------
2024-08-22 23:55:18,257 | INFO | Report Client v2 init...
2024-08-22 23:55:18,257 | INFO | read_config() called
2024-08-22 23:55:18,257 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:55:18,482 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:55:18,483 | INFO | Report Client v2 started :)
2024-08-22 23:55:18,484 | ERROR | check_for_reports_loop() error: 'utf-8' codec can't decode byte 0xd0 in position 9: invalid continuation byte Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 188, in check_for_reports_loop
    data_utf8 = data.decode("utf-8")
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xd0 in position 9: invalid continuation byte

2024-08-22 23:57:18,491 | ERROR | check_for_reports_loop() error: 'utf-8' codec can't decode byte 0xd0 in position 9: invalid continuation byte Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 188, in check_for_reports_loop
    data = f.read()
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xd0 in position 9: invalid continuation byte

2024-08-22 23:57:23,850 | INFO | --------------------
2024-08-22 23:57:23,850 | INFO | Report Client v2 init...
2024-08-22 23:57:23,850 | INFO | read_config() called
2024-08-22 23:57:23,850 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:57:24,062 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:57:24,062 | INFO | Report Client v2 started :)
2024-08-22 23:57:40,044 | INFO | --------------------
2024-08-22 23:57:40,044 | INFO | Report Client v2 init...
2024-08-22 23:57:40,044 | INFO | read_config() called
2024-08-22 23:57:40,044 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:57:40,245 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:57:40,245 | INFO | Report Client v2 started :)
2024-08-22 23:58:09,342 | INFO | --------------------
2024-08-22 23:58:09,342 | INFO | Report Client v2 init...
2024-08-22 23:58:09,343 | INFO | read_config() called
2024-08-22 23:58:09,343 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:58:09,564 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:58:09,564 | INFO | Report Client v2 started :)
2024-08-22 23:59:16,220 | INFO | --------------------
2024-08-22 23:59:16,220 | INFO | Report Client v2 init...
2024-08-22 23:59:16,220 | INFO | read_config() called
2024-08-22 23:59:16,220 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:59:16,442 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:59:16,443 | INFO | Report Client v2 started :)
2024-08-22 23:59:16,445 | INFO | Following data prepared for sending:
1883 [сменный/другие]
кассовый день 22.08.2024
               Смена 1869
                  22.08.2024 11:51:17
----------------------------------------
 код       блюдо       кол-во   сумма
----------------------------------------
Категория: КУХНЯ Смачні полт.наїдки
184  Варенички з          1.00     79.00
     капусткою (на
     пару)
Всего по категории:                79.00

Категория: Пет-пляшки
61   Пет-пляшка 1л        1.00      4.00
Всего по категории:                 4.00

Категория: Пиво власне
34   Пріма Пілснер 0,5л   1.00     55.00
3905 Пріма Пілснер 1л     1.00    106.00
     (вынос)
56   Пшеничне 0,33л       1.00     48.00
Всего по категории:               209.00

----------------------------------------
                 Всего:           292.00
2024-08-22 23:59:16,445 | INFO | Report saved to tosend/rep8671781.txt
2024-08-22 23:59:16,445 | ERROR | check_for_reports_loop() error: [Errno 2] No such file or directory: '/Users/mac/Downloads/Printers/PRT11 (2).txt' Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 196, in check_for_reports_loop
    tmp_name = copy_and_delete_original(file)
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 134, in copy_and_delete_original
    open(path_orig_copy, 'wb').write(open(fpath, 'rb').read())  # Copy
FileNotFoundError: [Errno 2] No such file or directory: '/Users/mac/Downloads/Printers/PRT11 (2).txt'

2024-08-22 23:59:16,619 | INFO | Trying to send tosend/rep8671781.txt to 2.57.36.136
2024-08-22 23:59:16,620 | INFO | ###############################
2024-08-22 23:59:16,620 | INFO | Sending...
2024-08-22 23:59:16,646 | INFO | Sent. Waiting for resp...
2024-08-22 23:59:16,685 | INFO | Resp:b'OK\r\n'
2024-08-22 23:59:16,686 | INFO | OK received :)
2024-08-22 23:59:46,085 | INFO | --------------------
2024-08-22 23:59:46,085 | INFO | Report Client v2 init...
2024-08-22 23:59:46,085 | INFO | read_config() called
2024-08-22 23:59:46,085 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-22 23:59:46,296 | INFO | Will use received ip: 2.57.36.136
2024-08-22 23:59:46,296 | INFO | Report Client v2 started :)
2024-08-23 00:00:36,649 | INFO | --------------------
2024-08-23 00:00:36,649 | INFO | Report Client v2 init...
2024-08-23 00:00:36,649 | INFO | read_config() called
2024-08-23 00:00:36,650 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:00:36,877 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:00:36,877 | INFO | Report Client v2 started :)
2024-08-23 00:00:57,154 | INFO | --------------------
2024-08-23 00:00:57,155 | INFO | Report Client v2 init...
2024-08-23 00:00:57,155 | INFO | read_config() called
2024-08-23 00:00:57,155 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:00:57,370 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:00:57,370 | INFO | Report Client v2 started :)
2024-08-23 00:01:11,593 | INFO | --------------------
2024-08-23 00:01:11,594 | INFO | Report Client v2 init...
2024-08-23 00:01:11,594 | INFO | read_config() called
2024-08-23 00:01:11,594 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:01:11,817 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:01:11,817 | INFO | Report Client v2 started :)
2024-08-23 00:01:31,882 | INFO | --------------------
2024-08-23 00:01:31,882 | INFO | Report Client v2 init...
2024-08-23 00:01:31,882 | INFO | read_config() called
2024-08-23 00:01:31,882 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:01:32,095 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:01:32,095 | INFO | Report Client v2 started :)
2024-08-23 00:04:40,460 | INFO | --------------------
2024-08-23 00:04:40,461 | INFO | Report Client v2 init...
2024-08-23 00:04:40,461 | INFO | read_config() called
2024-08-23 00:04:40,461 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:04:40,702 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:04:40,702 | INFO | Report Client v2 started :)
2024-08-23 00:05:10,552 | INFO | --------------------
2024-08-23 00:05:10,552 | INFO | Report Client v2 init...
2024-08-23 00:05:10,552 | INFO | read_config() called
2024-08-23 00:05:10,552 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:05:10,766 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:05:10,766 | INFO | Report Client v2 started :)
2024-08-23 00:05:35,351 | INFO | --------------------
2024-08-23 00:05:35,351 | INFO | Report Client v2 init...
2024-08-23 00:05:35,351 | INFO | read_config() called
2024-08-23 00:05:35,351 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:05:35,576 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:05:35,576 | INFO | Report Client v2 started :)
2024-08-23 00:06:17,187 | INFO | --------------------
2024-08-23 00:06:17,189 | INFO | Report Client v2 init...
2024-08-23 00:06:17,189 | INFO | read_config() called
2024-08-23 00:06:17,189 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:06:17,411 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:06:17,411 | INFO | Report Client v2 started :)
2024-08-23 00:08:09,373 | INFO | --------------------
2024-08-23 00:08:09,373 | INFO | Report Client v2 init...
2024-08-23 00:08:09,373 | INFO | read_config() called
2024-08-23 00:08:09,373 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:08:09,581 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:08:09,581 | INFO | Report Client v2 started :)
2024-08-23 00:08:47,616 | INFO | --------------------
2024-08-23 00:08:47,616 | INFO | Report Client v2 init...
2024-08-23 00:08:47,616 | INFO | read_config() called
2024-08-23 00:08:47,616 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:08:47,856 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:08:47,857 | INFO | Report Client v2 started :)
2024-08-23 00:08:47,860 | ERROR | check_for_reports_loop() error: 'utf-8' codec can't decode byte 0xd0 in position 9: invalid continuation byte Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 190, in check_for_reports_loop
    data = f.read()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 701, in read
    return self.reader.read(size)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 504, in read
    newchars, decodedbytes = self.decode(data, self.errors)
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xd0 in position 9: invalid continuation byte

2024-08-23 00:09:58,746 | INFO | --------------------
2024-08-23 00:09:58,746 | INFO | Report Client v2 init...
2024-08-23 00:09:58,746 | INFO | read_config() called
2024-08-23 00:09:58,746 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:09:58,959 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:09:58,959 | INFO | Report Client v2 started :)
2024-08-23 00:09:58,961 | ERROR | check_for_reports_loop() error: unknown encoding: cp-1251 Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 191, in check_for_reports_loop
    data = f.read()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 701, in read
    return self.reader.read(size)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 504, in read
    newchars, decodedbytes = self.decode(data, self.errors)
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xd0 in position 9: invalid continuation byte

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 194, in check_for_reports_loop
    with codecs.open(file, 'r', 'cp-1251') as f:
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 910, in open
    info = lookup(encoding)
LookupError: unknown encoding: cp-1251

2024-08-23 00:10:03,544 | INFO | --------------------
2024-08-23 00:10:03,544 | INFO | Report Client v2 init...
2024-08-23 00:10:03,544 | INFO | read_config() called
2024-08-23 00:10:03,544 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:10:03,752 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:10:03,752 | INFO | Report Client v2 started :)
2024-08-23 00:10:03,756 | INFO | Message to long, will be divided
2024-08-23 00:10:03,756 | INFO | Following data prepared for sending:
1883 [сменный/другие]
[часть 1]
кассовый день 19.08.2024
               Смена 3674
                  19.08.2024 13:18:30
----------------------------------------
 код       блюдо       кол-во   сумма
----------------------------------------
Категория: БАР Алкоголь
22   ГорілкаКоз.          1.00     33.00
     РадаКласична 50мл
Всего по категории:                33.00

Категория: Бар додатки
293  Лимон 20г            1.00     10.00
Всего по категории:                10.00

Категория: БАР кава
279  Кава Американо       2.00     78.00
Всего по категории:                78.00

Категория: Вода питна ЧистоВода
4992 Вода очищ.           1.00     25.00
     ЧистоВода Прем.н/
     г0,5л
Всего по категории:                25.00

Категория: Доставка
6106 Доставка ГЛОВО       1.00      0.01
Всего по категории:                 0.01

Категория: Інше
3972 Деки однораз.1шт     8.00      0.08
Всего по категории:                 0.08

Категория: Кавказька кухня
1761 Хачапурі по-         1.00    149.00
     аджарськи
Всего по категории:               149.00

Категория: КВАС вл.вир.
2016 Квас з бузини        1.00     35.00
     250мл
Всего по категории:                35.00

Категория: КУХНЯ Гарніри
176  Картопля фрі         2.00    178.00
Всего по категории:               178.00

Категория: КУХНЯ Ласощі
207  Шоколадний вулкан    1.00    119.00
Всего по категории:               119.00

Категория: КУХНЯ Молочні коктейлі
229  МК Полунична         1.00    125.00
     радість
Всего по категории:               125.00

Категория: КУХНЯ Паста
650  Спагетті             1.00    115.00
     "Болоньєзе"
Всего по категории:               115.00

Категория: КУХНЯ Рідкі страви
5111 Борщик зелений       2.00    218.00
     (мала) (без
     горщика)
3910 Борщик український   1.00    139.00
     (вел)
140  Борщик український   3.00    237.00
     (мала)
144  Суп курячий з дом.   2.00    138.00
     локш.(мала)
5314 Хол.лит.суп з
2024-08-23 00:10:03,757 | INFO | Report part 0 saved to tosend/0-rep2093182.txt
2024-08-23 00:10:03,757 | INFO | Following data prepared for sending:
1883 [сменный/другие]
[часть 2]
 1.00     79.00
     буряка
Всего по категории:               811.00

Категория: КУХНЯ Салати
99   Салат Класичний з    1.00     75.00

========================
капусти
Всего по категории:                75.00

Категория: КУХНЯ Смачні полт.наїдки
181  Галушки ВЕЛ з м      1.00    119.00
     "ясом під гриб.с
6261 Галушки МАЛ з м      1.00     89.00
     "ясом під гриб.с
117  Деруни з             1.00     89.00
     грибочками та
     сметанкою
Всего по категории:               297.00

Категория: КУХНЯ соки власні
2197 Сок томатний         1.00     25.00
     (влас.вир.) 250мл
Всего по категории:                25.00

Категория: Пиво власне
52   Медове 0,5л          1.00     60.00
46   Пиво Блек Бір 0,5л   1.00     60.00
40   Пріма Мюнхен 0,33л   4.00    180.00
41   Пріма Мюнхен 0,5л    1.00     55.00
31   Пріма Пілснер 0,     3.00    135.00
     33л
34   Пріма Пілснер 0,5л   5.00    275.00
37   Пріма Пілснер 1л     1.00    106.00
     (бокал)
Всего по категории:               871.00

Категория: Піцца
439  Піцца Гавайська      2.00    338.00
430  Піцца Ді Карне (м    1.00    209.00
     "ясна)
446  Піцца Кальцоне       1.00    139.00
     Полло-Фунгі
6254 Піцца Карбонара      1.00    218.00
     (Глово)
Всего по категории:               904.00

Категория: Піцца (добавки)
467  Сир моцарела 120г    1.00     70.00
Всего по категории:                70.00

Категория: Узвар
4915 Узвар 1л             1.00     80.00
Всего по категории:                80.00

Категория: УПАКОВКА кухня
5079 Коррекс для соуса    1.00      2.00
     (дост.) 1шт.
5080 Коррекс мал.(дост.   1.00      5.00
     ) 1шт.
5081 Коррекс під рідкі    1.00      7.00
     страви (доставка)
     1шт.
Всего по категории:                14.00

Категория: УПАКОВКА пакеты фирм. майка
7051 Пакет (винос)        1.00      5.00
     кухня
Всего по категории:                 5.00

Категория: УПАКОВКА пицца
6288 Упаковка
2024-08-23 00:10:03,757 | INFO | Report part 1 saved to tosend/1-rep2093182.txt
2024-08-23 00:10:03,757 | INFO | Following data prepared for sending:
1883 [сменный/другие]
[часть 3]
 (Д) д/      1.00      0.01
     піцци СТАНД с лого
Всего по категории:                 0.01

Категория: Хліб власний
191  Хліб чорний          2.00     24.00
     домашній 100г
Всего по категории:                24.00

----------------------------------------
                 Всего:          4043.10
2024-08-23 00:10:03,757 | INFO | Report part 2 saved to tosend/2-rep2093182.txt
2024-08-23 00:10:03,918 | INFO | Trying to send tosend/0-rep2093182.txt to 2.57.36.136
2024-08-23 00:10:03,918 | INFO | ###############################
2024-08-23 00:10:03,918 | INFO | Sending...
2024-08-23 00:10:03,947 | ERROR | send_reports_loop(), send_file_to_server() level: a bytes-like object is required, not 'str' Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 251, in send_reports_loop
    is_sent_ok = send_file_to_server(addr_to_send, fpath)
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 224, in send_file_to_server
    clientsocket.send(data_plain_text)
TypeError: a bytes-like object is required, not 'str'

2024-08-23 00:10:03,947 | INFO | Trying to send tosend/1-rep2093182.txt to 2.57.36.136
2024-08-23 00:10:03,947 | INFO | ###############################
2024-08-23 00:10:03,947 | INFO | Sending...
2024-08-23 00:10:03,977 | ERROR | send_reports_loop(), send_file_to_server() level: a bytes-like object is required, not 'str' Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 251, in send_reports_loop
    is_sent_ok = send_file_to_server(addr_to_send, fpath)
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 224, in send_file_to_server
    clientsocket.send(data_plain_text)
TypeError: a bytes-like object is required, not 'str'

2024-08-23 00:10:03,977 | INFO | Trying to send tosend/2-rep2093182.txt to 2.57.36.136
2024-08-23 00:10:03,977 | INFO | ###############################
2024-08-23 00:10:03,977 | INFO | Sending...
2024-08-23 00:10:04,005 | ERROR | send_reports_loop(), send_file_to_server() level: a bytes-like object is required, not 'str' Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 251, in send_reports_loop
    is_sent_ok = send_file_to_server(addr_to_send, fpath)
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 224, in send_file_to_server
    clientsocket.send(data_plain_text)
TypeError: a bytes-like object is required, not 'str'

2024-08-23 00:11:36,848 | INFO | --------------------
2024-08-23 00:11:36,848 | INFO | Report Client v2 init...
2024-08-23 00:11:36,848 | INFO | read_config() called
2024-08-23 00:11:36,848 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:11:37,225 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:11:37,225 | INFO | Report Client v2 started :)
2024-08-23 00:11:37,383 | INFO | Trying to send tosend/0-rep2093182.txt to 2.57.36.136
2024-08-23 00:11:37,384 | INFO | ###############################
2024-08-23 00:11:37,385 | INFO | Sending...
2024-08-23 00:11:37,413 | INFO | Sent. Waiting for resp...
2024-08-23 00:11:37,555 | INFO | Resp:b'OK\r\n'
2024-08-23 00:11:37,556 | INFO | OK received :)
2024-08-23 00:11:37,557 | INFO | Trying to send tosend/1-rep2093182.txt to 2.57.36.136
2024-08-23 00:11:37,557 | INFO | ###############################
2024-08-23 00:11:37,558 | INFO | Sending...
2024-08-23 00:11:37,588 | INFO | Sent. Waiting for resp...
2024-08-23 00:11:37,722 | INFO | Resp:b'OK\r\n'
2024-08-23 00:11:37,722 | INFO | OK received :)
2024-08-23 00:11:37,722 | INFO | Trying to send tosend/2-rep2093182.txt to 2.57.36.136
2024-08-23 00:11:37,722 | INFO | ###############################
2024-08-23 00:11:37,723 | INFO | Sending...
2024-08-23 00:11:37,750 | INFO | Sent. Waiting for resp...
2024-08-23 00:11:37,874 | INFO | Resp:b'OK\r\n'
2024-08-23 00:11:37,875 | INFO | OK received :)
2024-08-23 00:13:21,990 | INFO | --------------------
2024-08-23 00:13:21,990 | INFO | Report Client v2 init...
2024-08-23 00:13:21,990 | INFO | read_config() called
2024-08-23 00:13:21,990 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:13:22,210 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:13:22,210 | INFO | Report Client v2 started :)
2024-08-23 00:13:22,213 | ERROR | check_for_reports_loop() error: 'str' object has no attribute 'decode' Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 191, in check_for_reports_loop
    data = f.read()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 701, in read
    return self.reader.read(size)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 504, in read
    newchars, decodedbytes = self.decode(data, self.errors)
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xd0 in position 9: invalid continuation byte

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 196, in check_for_reports_loop
    data = data.decode('cp1251').encode('utf8')
AttributeError: 'str' object has no attribute 'decode'

2024-08-23 00:13:33,392 | INFO | --------------------
2024-08-23 00:13:33,392 | INFO | Report Client v2 init...
2024-08-23 00:13:33,392 | INFO | read_config() called
2024-08-23 00:13:33,392 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:13:33,600 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:13:33,600 | INFO | Report Client v2 started :)
2024-08-23 00:13:33,604 | ERROR | check_for_reports_loop() error: a bytes-like object is required, not 'str' Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 191, in check_for_reports_loop
    data = f.read()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 701, in read
    return self.reader.read(size)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 504, in read
    newchars, decodedbytes = self.decode(data, self.errors)
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xd0 in position 9: invalid continuation byte

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 197, in check_for_reports_loop
    lines = data.split('\n')
TypeError: a bytes-like object is required, not 'str'

2024-08-23 00:13:46,240 | INFO | --------------------
2024-08-23 00:13:46,240 | INFO | Report Client v2 init...
2024-08-23 00:13:46,240 | INFO | read_config() called
2024-08-23 00:13:46,240 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:13:46,443 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:13:46,443 | INFO | Report Client v2 started :)
2024-08-23 00:13:46,446 | ERROR | check_for_reports_loop() error: a bytes-like object is required, not 'str' Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 191, in check_for_reports_loop
    data = f.read()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 701, in read
    return self.reader.read(size)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 504, in read
    newchars, decodedbytes = self.decode(data, self.errors)
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xd0 in position 9: invalid continuation byte

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 197, in check_for_reports_loop
    lines = data.split('\n')
TypeError: a bytes-like object is required, not 'str'

2024-08-23 00:15:46,455 | ERROR | check_for_reports_loop() error: a bytes-like object is required, not 'str' Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 191, in check_for_reports_loop
    data = f.read()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 701, in read
    return self.reader.read(size)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 504, in read
    newchars, decodedbytes = self.decode(data, self.errors)
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xd0 in position 9: invalid continuation byte

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 197, in check_for_reports_loop
    lines = data.split('\n')
TypeError: a bytes-like object is required, not 'str'

2024-08-23 00:16:23,787 | INFO | --------------------
2024-08-23 00:16:23,787 | INFO | Report Client v2 init...
2024-08-23 00:16:23,787 | INFO | read_config() called
2024-08-23 00:16:23,787 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:16:23,992 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:16:23,992 | INFO | Report Client v2 started :)
2024-08-23 00:16:23,995 | ERROR | check_for_reports_loop() error: 'bytes' object has no attribute 'encode' Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 191, in check_for_reports_loop
    data = f.read()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 701, in read
    return self.reader.read(size)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 504, in read
    newchars, decodedbytes = self.decode(data, self.errors)
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xd0 in position 9: invalid continuation byte

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 196, in check_for_reports_loop
    data = codecs.encode(data, 'cp1251').encode('utf8')
AttributeError: 'bytes' object has no attribute 'encode'

2024-08-23 00:18:23,997 | ERROR | check_for_reports_loop() error: 'bytes' object has no attribute 'encode' Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 191, in check_for_reports_loop
    data = f.read()
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 701, in read
    return self.reader.read(size)
  File "/Library/Frameworks/Python.framework/Versions/3.9/lib/python3.9/codecs.py", line 504, in read
    newchars, decodedbytes = self.decode(data, self.errors)
UnicodeDecodeError: 'utf-8' codec can't decode byte 0xd0 in position 9: invalid continuation byte

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/mac/Documents/Progamming/Python/ReportClient2/main.py", line 196, in check_for_reports_loop
    data_cp1251 = codecs.encode(data, 'cp1251')
AttributeError: 'bytes' object has no attribute 'encode'

2024-08-23 00:18:45,499 | INFO | --------------------
2024-08-23 00:18:45,499 | INFO | Report Client v2 init...
2024-08-23 00:18:45,499 | INFO | read_config() called
2024-08-23 00:18:45,499 | INFO | read_config() finished. Loaded config {'get_ip': 'https://itkit.com.ua/telbot/getip.php', 'default_ip': '127.0.0.1', 'restaurant_id': 1883, 'sleep_parse_sec': 120, 'sleep_send_sec': 120, 'printer_dir': '/Users/mac/Downloads/Printers', 'include_last_marker': True, 'markers': [['.*бщий\\s{1}сменный', '.*Всего:\\s{3,100}'], ['.*аcход\\s{1}блюд\\s{1}по', '.*конец\\s{1}отчета']]}
2024-08-23 00:18:45,732 | INFO | Will use received ip: 2.57.36.136
2024-08-23 00:18:45,732 | INFO | Report Client v2 started :)
